os:
  - Visual Studio 2015
  - Visual Studio 2017

platform:
  - x64

configuration:
  - Debug

init:
  - git config --global core.autocrlf input

before_build:
  - cmd: mkdir build
  - cmd: cd build
  - cmd: cmake .. -Ax64 -DINSTALL_WIN_DEPS=ON
  - cmd: cmake --build .
  - cmd: cmake .. -Ax64 -DINSTALL_WIN_DEPS=OFF

build_script:
  - cmd: cmake --build . --config Debug

test_script:
  - cmd: ctest build
